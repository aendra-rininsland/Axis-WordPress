<!-- TODO simplify this template -->
<span ng-switch on="buttonType">
  <span ng-switch-when="export">
    <span ng-if="items.length > 1" dropdown>
      <button 
        type="button" 
        class="btn btn-success dropdown-toggle" 
        dropdown-toggle>
          {{ 'OUTPUT_EXPORT_BUTTON_LABEL' | translate }} <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" role="menu">
        <li ng-repeat="output in items">
          <a 
            ng-class="'export' + output" 
            href="#" 
            export-chart="{{output.toLowerCase().replace(' ', '')}}">
              {{output}}
          </a>
        </li>
      </ul>
    </span>

    <span ng-if="items.length === 1">
      <button 
        class="btn btn-success" 
        ng-class="'export' + items[0].toLowerCase()" 
        export-chart="{{items[0].toLowerCase().replace(' ', '')}}">
          Export to {{items[0].toLowerCase().replace(' ', '')}}
      </button>
    </span>
  </span>

  <span ng-switch-when="save">
    <span ng-if="items.length > 1" dropdown>
      <button 
        type="button" 
        class="btn btn-primary dropdown-toggle" 
        dropdown-toggle export-chart="save">
          {{ 'OUTPUT_SAVE_BUTTON_LABEL' | translate }} <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" role="menu">
        <li ng-repeat="output in items">
          <a 
            ng-class="'save' + output.toUpperCase()" 
            href="#">
              Save as {{output.toUpperCase()}}
          </a>
        </li>
      </ul>
    </span>

    <span ng-if="items.length === 1">
      <button 
        class="btn btn-primary" 
        ng-class="'save' + items[0].toLowerCase()" 
        export-chart="{{items[0].toLowerCase().replace(' ', '')}}">
          Save to {{items[0].toLowerCase().replace(' ', '')}}
      </button>
    </span>
  </span>

</span>
